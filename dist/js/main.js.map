{"version":3,"sources":["main.js"],"names":["activeTrigger","document","querySelectorAll","languages","body","getItem","cookieEl","querySelector","addEventListener","e","preventDefault","dataset","active","requestAnimationFrame","i","length","targetActive","target","j","parentElement","Error","ctx","getContext","parseInt","width","backgroundStroke","value","height","lineWidth","strokeStyle","window","beginPath","Math","PI","stroke"],"mappings":"cAAC,WACA,IAAAA,EAAAC,SAAAC,iBAAA,wBAGIC,EAAYF,SAASC,iBAAiB,2BADtCF,EAAAA,SAAgBC,KAEpB,IAAIG,OAAOH,aAAXI,QAAA,mBAAA,CAGC,IAAIC,EAAWL,SAASM,cAAc,YAAtCD,EAAIA,MAAWL,QAASM,QAGxBD,EAASE,iBAAiB,QAAS,SAACC,GADpCH,EAAAA,iBACAA,OAAAA,aAASE,QAAiB,kBAAgB,OACzCC,EAAEC,MAAAA,QAAF,SAIDT,SAAAM,cAAA,YAAAC,iBAAA,QAAA,WAG4B,WAAxBJ,EAAKO,QAAQC,OAEhBC,sBAAA,WACAT,EAAAO,QAAAC,OAAA,kBAJOL,EAAAA,QAATK,SAQC,IARD,IAAAE,EAAA,EAAAA,EAAAd,EAAAe,OAAAD,IAWCd,EAAcc,GAAGN,iBAAiB,QAAS,SAACC,GAD7CA,EAAAC,iBAEED,IAAEC,EAAAA,EAAAA,OAAFC,QAAAK,aAEA,GAAa,iBAATC,EAGH,IAAK,IAAIC,EAAIT,EAAEQ,OAAQC,EAAIA,EAAEC,eAD9B,GAAGD,EAAAP,QAAOM,eAAV,gBAA+B,CAC9BA,EAASC,EAAIT,QAAbO,aACC,MAKD,GAAA,iBAAAC,EAGA,MAAM,IAAIG,MAAM,gCAChBP,sBAAA,WAGAT,EAAKO,QAAQC,OAASK,MAGxB,IAAA,IAAAH,EAAA,EAAAA,EAAAX,EAAAY,OAAAD,IAAA,CAGA,IAAIO,EAAMlB,EAAUW,GAAGQ,WAAW,MAD9BP,EAAQQ,SAAOpB,OAAAA,iBAAuBA,EAAAW,IAAAU,OAItCC,EAAAA,SAAAA,EAAmBX,GAAvBH,QAAAe,OAEAvB,EAAIuB,GAAQH,MAASpB,EAAUW,GAAVa,OAAqBD,EAE1CvB,EAAAA,UAPUA,GASVkB,EAAIO,YAGJP,EAAIQ,YAXkBC,UAUtBT,EAAIU,IAAAA,EAAJ,EAAAhB,EAAA,EAAAA,EAAA,EAXUZ,GAWV,EAAA,EAAA6B,KAAAC,IACAZ,EAAIQ,SAEJR,EAAIa,YAGJb,EAAIQ,YAfJ,UAcAR,EAAIU,IAAAA,EAAJ,EAAAhB,EAAA,EAAAA,EAAA,EAhBUZ,IAgBV6B,KAAAC,GAAA,EAAA,EAAAD,KAAAC,GAAA,IAAAP,EAAAM,KAAAC,GAAA,GACAZ,EAAIQ","file":"main.js","sourcesContent":["(function () {\n\t'use strict';\n\n\tlet activeTrigger = document.querySelectorAll('[data-target-active]');\n\tlet languages = document.querySelectorAll('#languages .lang canvas');\n\tlet body = document.body;\n\n\tif (!window.localStorage.getItem('cookiesAccepted')) {\n\t\tlet cookieEl = document.querySelector('#cookies');\n\n\t\tcookieEl.style.display = 'block';\n\t\tcookieEl.addEventListener('click', (e) => {\n\t\t\te.preventDefault();\n\t\t\twindow.localStorage.setItem('cookiesAccepted', 'yes');\n\t\t\tcookieEl.style.display = 'none';\n\t\t});\n\t}\n\n\tdocument.querySelector('#trigger').addEventListener('click', () => {\n\t\tif (body.dataset.active === 'teaser') {\n\t\t\tdelete body.dataset.active;\n\t\t\treturn;\n\t\t}\n\t\trequestAnimationFrame(() => {\n\t\t\tbody.dataset.active = 'teaser';\n\t\t});\n\t});\n\n\tfor (let i = 0; i < activeTrigger.length; i++) {\n\t\tactiveTrigger[i].addEventListener('click', (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tlet target = e.target.dataset.targetActive;\n\n\t\t\tif(typeof target !== 'string') {\n\t\t\t\tfor (let j = e.target; j = j.parentElement;) {\n\t\t\t\t\tif (j.dataset.hasOwnProperty('targetActive')) {\n\t\t\t\t\t\ttarget = j.dataset.targetActive;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(typeof target !== 'string'){\n\t\t\t\tthrow new Error(\"cannot find target attribute\");\n\t\t\t}\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tbody.dataset.active = target;\n\t\t\t});\n\t\t});\n\t}\n\n\tfor (let i = 0; i < languages.length; i++) {\n\t\tlet ctx = languages[i].getContext('2d');\n\t\tlet length = parseInt(window.getComputedStyle(languages[i]).width);\n\t\tlet strokeWidth = 15;\n\t\tlet backgroundStroke = '#eaeaea';\n\t\tlet foregroundStroke = '#2c2c2c';\n\t\tlet value = parseInt(languages[i].dataset.value);\n\n\t\tlanguages[i].width = languages[i].height = length;\n\n\t\tctx.lineWidth = strokeWidth;\n\n\t\tctx.beginPath();\n\t\tctx.strokeStyle = backgroundStroke;\n\t\tctx.arc(length / 2, length / 2, length / 2 - strokeWidth, 0, 2 * Math.PI);\n\t\tctx.stroke();\n\n\t\tctx.beginPath();\n\t\tctx.strokeStyle = foregroundStroke;\n\t\tctx.arc(length / 2, length / 2, length / 2 - strokeWidth, -Math.PI / 2, 2 * Math.PI / 100 * value - Math.PI / 2);\n\t\tctx.stroke();\n\t}\n}());"]}
{"version":3,"sources":["main.js"],"names":["win","setCurrentPage","page","i","elsProjects","Error","requestAnimationFrame","elSwitch","dataset","active","el","addEventListener","length","ctx","value","getContext","size","classList","_inputFilledClass","elsCircleCanvas","width","parseInt","height","lineWidth","_circleStrokeWith","beginPath","strokeStyle","_circleBackgroundStroke","arc","Math","PI","stroke","invertedText","textContent","keyboardShortcuts","zoomControl","_abandonedTitle","_allowedPageNames","none","teaser","resume","_cookieAcceptName","title","_circleForegroundStroke","_defaultTitle","document","elCookieHint","querySelector","body","elMenuSwitch","querySelectorAll","elMap","elsTriggers","_invertMeClass","lat","markerPosition","lng","hidden","center","mapPosition","window","onWindowResize","initMap","Map","zoom","clickableIcons","disableDefaultUI","drawCanvasCircles","scrollwheel","styles","stylers","hue","google","maps","Marker","position","console","info","localStorage","getItem","style","display","e","preventDefault","targetActive","wrapper","parentElement","siblings","children","indexOf","contains","_projectActiveClass","_step","_iterator","prototype","Symbol","iterator","_iteratorNormalCompletion","next","done","slice","add","elsInput","sibling","remove","elsSensible","split","reverse","join","nodeName","prefix","href","transform"],"mappings":"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","file":"main.js","sourcesContent":["(function (win) {\n\t'use strict';\n\n\t//********************************************\n\t// CONSTANTS\n\t//********************************************\n\tconst _abandonedTitle = 'â¤ Come back â¤';\n\tconst _allowedPageNames = {none: '', teaser: 'teaser', resume: 'resume'};\n\tconst _cookieAcceptName = 'cookiesAccepted';\n\tconst _circleBackgroundStroke = '#eaeaea';\n\tconst _circleForegroundStroke = '#2c2c2c';\n\tconst _circleStrokeWith = 15;\n\tconst _defaultTitle = document.title;\n\tconst _inputFilledClass = 'filled';\n\tconst _invertMeClass = 'invertMe';\n\tconst _projectActiveClass = 'active';\n\n\t//********************************************\n\t// SELECTORS\n\t//********************************************\n\tconst elCookieHint = document.querySelector('#cookies');\n\tconst elSwitch = document.body;\n\tconst elMenuSwitch = document.querySelector('#trigger');\n\tconst elMap = document.querySelector('#map');\n\tconst elsTriggers = document.querySelectorAll('[data-target-active]');\n\tconst elsCircleCanvas = document.querySelectorAll('#languages .lang canvas');\n\tconst elsProjects = document.querySelectorAll('#projects .project');\n\tconst elsInput = document.querySelectorAll('#contact input, #contact textarea');\n\tconst elsSensible = document.querySelectorAll(`a.${_invertMeClass}`);\n\n\t//********************************************\n\t// REGISTER EVENT HANDLER\n\t//********************************************\n\telMenuSwitch.addEventListener('click', onMenuSwitchClick);\n\tdocument.addEventListener('visibilitychange', onWindowVisibilityChange);\n\twindow.addEventListener('resize', onWindowResize);\n\n\t//********************************************\n\t// EXPORTS\n\t//********************************************\n\twin.initMap = initMap;\n\n\t//********************************************\n\t// INITIALIZATION\n\t//********************************************\n\tinit();\n\n\t///////////////////////////////////////////////////////////////////////\n\n\t//********************************************\n\t// FUNCTIONS\n\t//********************************************\n\tfunction init() {\n\t\t// Show console welcome message\n\t\tconsole.info('You like to look under the hood? Check out the source code on github ðŸ˜Ž\\nhttps://github.com/schwarzdavid/schwarzdavid.rocks');\n\n\t\t// Show cookie hint\n\t\tif (!window.localStorage.getItem(_cookieAcceptName)) {\n\t\t\telCookieHint.style.display = 'block';\n\t\t\telCookieHint.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.localStorage.setItem(_cookieAcceptName, true);\n\t\t\t\telCookieHint.style.display = 'none';\n\t\t\t});\n\t\t}\n\n\t\t// Redraw window-size-dependent elements\n\t\tonWindowResize();\n\n\t\t// Bind events to all trigger buttons\n\t\tfor (let i = 0; i < elsTriggers.length; i++) {\n\t\t\tconst el = elsTriggers[i];\n\n\t\t\tel.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tsetCurrentPage(el.dataset.targetActive);\n\t\t\t});\n\t\t}\n\n\t\t// Bind events to projects\n\t\tfor (let i = 0; i < elsProjects.length; i++) {\n\t\t\tconst el = elsProjects[i];\n\t\t\tconst wrapper = el.parentElement;\n\t\t\tconst siblings = Array.prototype.slice.call(wrapper.children, 0);\n\t\t\tconst position = siblings.indexOf(el);\n\n\t\t\tel.addEventListener('click', () => {\n\t\t\t\tif (el.classList.contains(_projectActiveClass)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\tfor (let sibling of siblings) {\n\t\t\t\t\t\tsibling.classList.remove(_projectActiveClass);\n\t\t\t\t\t}\n\n\t\t\t\t\twrapper.style.transform = `translateX(-${position * 100}%)`;\n\t\t\t\t\tel.classList.add(_projectActiveClass);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// Bind events to inputs\n\t\tfor(let i = 0; i < elsInput.length; i++){\n\t\t\tconst el = elsInput[i];\n\n\t\t\tel.addEventListener('keyup', () => {\n\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\tif (el.value) {\n\t\t\t\t\t\treturn el.classList.add(_inputFilledClass);\n\t\t\t\t\t}\n\t\t\t\t\tel.classList.remove(_inputFilledClass);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// Inverts content\n\t\tfor(let i = 0; i < elsSensible.length; i++){\n\t\t\tconst el = elsSensible[i];\n\t\t\tlet invertedText = el.textContent.split('').reverse().join('');\n\n\t\t\tel.textContent = invertedText;\n\t\t\tel.classList.remove(_invertMeClass);\n\n\t\t\tif(el.nodeName === 'A'){\n\t\t\t\tlet prefix = el.href.split('#')[1];\n\t\t\t\tel.href = (prefix ? prefix + ':' : '') + invertedText;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction setCurrentPage(page) {\n\t\tif (page && _allowedPageNames.hasOwnProperty(page) < 0) {\n\t\t\tthrow new Error('Page not allowed');\n\t\t}\n\n\t\trequestAnimationFrame(() => {\n\t\t\telSwitch.dataset.active = page;\n\t\t});\n\t}\n\n\tfunction drawCanvasCircles() {\n\t\tfor (let i = 0; i < elsCircleCanvas.length; i++) {\n\t\t\tlet ctx = elsCircleCanvas[i].getContext('2d');\n\t\t\tlet size = parseInt(window.getComputedStyle(elsCircleCanvas[i]).width);\n\t\t\tlet value = parseInt(elsCircleCanvas[i].dataset.value);\n\n\t\t\t// TODO: check with firefox\n\t\t\telsCircleCanvas[i].width = elsCircleCanvas[i].height = size;\n\n\t\t\tctx.lineWidth = _circleStrokeWith;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.strokeStyle = _circleBackgroundStroke;\n\t\t\tctx.arc(size / 2, size / 2, size / 2 - _circleStrokeWith, 0, 2 * Math.PI);\n\t\t\tctx.stroke();\n\n\t\t\tctx.beginPath();\n\t\t\tctx.strokeStyle = _circleForegroundStroke;\n\t\t\tctx.arc(size / 2, size / 2, size / 2 - _circleStrokeWith, -Math.PI / 2, 2 * Math.PI / 100 * value - Math.PI / 2);\n\t\t\tctx.stroke();\n\t\t}\n\t}\n\n\tfunction initMap() {\n\t\tlet markerPosition = {\n\t\t\tlat: 48.202765,\n\t\t\tlng: 16.303881\n\t\t};\n\n\t\tlet mapPosition = {\n\t\t\tlat: markerPosition.lat - 0.005,\n\t\t\tlng: markerPosition.lng\n\t\t};\n\n\t\tlet map = new google.maps.Map(elMap, {\n\t\t\tcenter: mapPosition,\n\t\t\tzoom: 11,\n\t\t\tclickableIcons: false,\n\t\t\tdisableDefaultUI: true,\n\t\t\tkeyboardShortcuts: false,\n\t\t\tzoomControl: false,\n\t\t\tscrollwheel: false,\n\t\t\tstyles: [{\n\t\t\t\t\"stylers\": [{\n\t\t\t\t\t\"hue\": \"#000000\"\n\t\t\t\t}, {\n\t\t\t\t\tsaturation: -110\n\t\t\t\t}, {\n\t\t\t\t\tgamma: 1.7\n\t\t\t\t}]\n\t\t\t}]\n\t\t});\n\n\t\tlet marker = new google.maps.Marker({\n\t\t\tposition: markerPosition,\n\t\t\tmap: map\n\t\t});\n\t}\n\n\t//********************************************\n\t// EVENT HANDLER\n\t//********************************************\n\tfunction onMenuSwitchClick() {\n\t\tif (elSwitch.dataset.active === _allowedPageNames.none) {\n\t\t\tsetCurrentPage(_allowedPageNames.teaser);\n\t\t} else {\n\t\t\tsetCurrentPage(_allowedPageNames.none);\n\t\t}\n\t}\n\n\tfunction onWindowVisibilityChange() {\n\t\tif (!document.hidden) {\n\t\t\tdocument.title = _defaultTitle;\n\t\t} else {\n\t\t\tdocument.title = _abandonedTitle;\n\t\t}\n\t}\n\n\tfunction onWindowResize() {\n\t\tdrawCanvasCircles();\n\t}\n}(window));"]}
{"version":3,"sources":["circles.js","contact.js","main.js","navigator.js","projects.js"],"names":["drawCanvasCircles","_circles","forEach","circle","ctx","getContext","size","parseInt","window","getComputedStyle","width","value","dataset","pixelRatio","devicePixelRatio","scale","height","lineWidth","CIRCLE_STROKE_WIDTH","beginPath","strokeStyle","CIRCLE_BACKGROUND_STROKE","arc","Math","PI","stroke","CIRCLE_FOREGROUND_STROKE","onWindowResize","Array","from","document","querySelectorAll","addEventListener","INPUT_FILLED_CLASS","input","classList","add","el","remove","win","COOKIE_ACCEPT_NAME","INVERT_ME_CLASS","elCookieHint","querySelector","elMap","elsSensible","initMap","markerPosition","lat","lng","mapPosition","map","google","maps","Map","center","zoom","clickableIcons","disableDefaultUI","keyboardShortcuts","zoomControl","scrollwheel","styles","stylers","hue","saturation","gamma","Marker","position","console","info","localStorage","getItem","style","display","e","setItem","i","length","init","closeMenu","_master","active","ALLOWED_PAGES","NONE","openMenu","TEASER","closeResume","openResume","RESUME","_menuSwitches","_pageAnchors","_projectSwitches","_resumeSwitches","body","menuSwitch","preventDefault","resumeSwitch","pageAnchor","projectSwitch","observerCallback","entry","Error","projectsVisible","isIntersecting","setActiveProject","index","arguments","undefined","activeProjectIndex","requestAnimationFrame","_projectPreviewContainer","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_projectPreviews","Symbol","iterator","next","done","PROJECT_ACTIVE_CLASS","err","return","transform","_projectProgress","nextProject","containerInteractionStart","x","y","firstInteractionPosition","clearInterval","projectCarousel","unsetActiveTimeout","setTimeout","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","preventNextClick","UNSET_ACTIVE_TIME","containerInteractionMove","xDist","projectWidth","totalOffset","lastInteractionPosition","containerInteractionEnd","percentOffset","MIN_DRAG_DISTANCE","clearTimeout","setInterval","INTERVAL_TIME","onContainerTouchEnd","firstTouchPosition","_projectSection","touches","screenX","screenY","identifier","touch","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","t","touchMoveVector","touchMoveAngle","abs","atan2","cancelable","project","contains","log","IntersectionObserver","observe"],"mappings":"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","file":"main.js","sourcesContent":["(function () {\r\n\t'use strict';\r\n\r\n\t//********************************************\r\n\t// CONSTANTS\r\n\t//********************************************\r\n\tconst CIRCLE_BACKGROUND_STROKE = '#eaeaea';\r\n\tconst CIRCLE_FOREGROUND_STROKE = '#2c2c2c';\r\n\tconst CIRCLE_STROKE_WIDTH = 15;\r\n\r\n\t//********************************************\r\n\t// SELECTORS\r\n\t//********************************************\r\n\tconst _circles = Array.from(document.querySelectorAll('#languages .lang canvas'));\r\n\r\n\t//********************************************\r\n\t// REGISTER EVENTS\r\n\t//********************************************\r\n\twindow.addEventListener('resize', onWindowResize);\r\n\r\n\t//********************************************\r\n\t// INITIALIZE\r\n\t//********************************************\r\n\tinit();\r\n\r\n\t///////////////////////////////////////////////////////////////////////\r\n\r\n\t//********************************************\r\n\t// FUNCTIONS\r\n\t//********************************************\r\n\tfunction init() {\r\n\t\t// Redraw window-size-dependent elements\r\n\t\tonWindowResize();\r\n\t}\r\n\r\n\tfunction drawCanvasCircles() {\r\n\t\t_circles.forEach((circle) => {\r\n\t\t\tlet ctx = circle.getContext('2d');\r\n\t\t\tlet size = parseInt(window.getComputedStyle(circle).width);\r\n\t\t\tlet value = parseInt(circle.dataset.value);\r\n\t\t\tlet pixelRatio = window.devicePixelRatio;\r\n\r\n\t\t\tctx.scale(pixelRatio, pixelRatio);\r\n\r\n\t\t\tcircle.width = size;\r\n\t\t\tcircle.height = size;\r\n\r\n\t\t\tctx.lineWidth = CIRCLE_STROKE_WIDTH;\r\n\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.strokeStyle = CIRCLE_BACKGROUND_STROKE;\r\n\t\t\tctx.arc(size / 2, size / 2, size / 2 - CIRCLE_STROKE_WIDTH, 0, 2 * Math.PI);\r\n\t\t\tctx.stroke();\r\n\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.strokeStyle = CIRCLE_FOREGROUND_STROKE;\r\n\t\t\tctx.arc(size / 2, size / 2, size / 2 - CIRCLE_STROKE_WIDTH, -Math.PI / 2, 2 * Math.PI / 100 * value - Math.PI / 2);\r\n\t\t\tctx.stroke();\r\n\t\t});\r\n\t}\r\n\r\n\t//********************************************\r\n\t// EVENT HANDLER\r\n\t//********************************************\r\n\tfunction onWindowResize() {\r\n\t\tdrawCanvasCircles();\r\n\t}\r\n}());","(function () {\r\n\t'use strict';\r\n\r\n\t//********************************************\r\n\t// CONSTANTS\r\n\t//********************************************\r\n\tconst INPUT_FILLED_CLASS = 'filled';\r\n\r\n\t//********************************************\r\n\t// SELECTORS\r\n\t//********************************************\r\n\tconst _inputs = Array.from(document.querySelectorAll('#contact input, #contact textarea'));\r\n\r\n\t//********************************************\r\n\t// INITIALIZE\r\n\t//********************************************\r\n\tinit();\r\n\r\n\t///////////////////////////////////////////////////////////////////////\r\n\r\n\t//********************************************\r\n\t// FUNCTIONS\r\n\t//********************************************\r\n\tfunction init() {\r\n\t\t_inputs.forEach((input) => {\r\n\t\t\tinput.addEventListener('keyup', () => {\r\n\t\t\t\tif(input.value){\r\n\t\t\t\t\treturn input.classList.add(INPUT_FILLED_CLASS);\r\n\t\t\t\t}\r\n\t\t\t\tel.classList.remove(INPUT_FILLED_CLASS);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}());","(function (win) {\r\n\t'use strict';\r\n\r\n\t//********************************************\r\n\t// CONSTANTS\r\n\t//********************************************\r\n\tconst COOKIE_ACCEPT_NAME = 'cookiesAccepted';\r\n\tconst INVERT_ME_CLASS = 'invertMe';\r\n\r\n\t//********************************************\r\n\t// SELECTORS\r\n\t//********************************************\r\n\tconst elCookieHint = document.querySelector('#cookies');\r\n\tconst elMap = document.querySelector('#map');\r\n\tconst elsSensible = document.querySelectorAll(`a.${INVERT_ME_CLASS}`);\r\n\r\n\t//********************************************\r\n\t// EXPORTS\r\n\t//********************************************\r\n\twin.initMap = initMap;\r\n\r\n\t//********************************************\r\n\t// INITIALIZATION\r\n\t//********************************************\r\n\tinit();\r\n\r\n\t///////////////////////////////////////////////////////////////////////\r\n\r\n\t//********************************************\r\n\t// FUNCTIONS\r\n\t//********************************************\r\n\tfunction init() {\r\n\t\t// Show console welcome message\r\n\t\tconsole.info('You like to look under the hood? Check out the source code on github 😎\\nhttps://github.com/schwarzdavid/schwarzdavid.rocks');\r\n\r\n\t\t// Show cookie hint\r\n\t\tif (!window.localStorage.getItem(COOKIE_ACCEPT_NAME)) {\r\n\t\t\telCookieHint.style.display = 'block';\r\n\t\t\telCookieHint.addEventListener('click', (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\twindow.localStorage.setItem(COOKIE_ACCEPT_NAME, true);\r\n\t\t\t\telCookieHint.style.display = 'none';\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Inverts content\r\n\t\tfor(let i = 0; i < elsSensible.length; i++){\r\n\t\t\tconst el = elsSensible[i];\r\n\t\t\tlet invertedText = el.textContent.split('').reverse().join('');\r\n\r\n\t\t\tel.textContent = invertedText;\r\n\t\t\tel.classList.remove(INVERT_ME_CLASS);\r\n\r\n\t\t\tif(el.nodeName === 'A'){\r\n\t\t\t\tlet prefix = el.href.split('#')[1];\r\n\t\t\t\tel.href = (prefix ? prefix + ':' : '') + invertedText;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction initMap() {\r\n\t\tlet markerPosition = {\r\n\t\t\tlat: 48.202765,\r\n\t\t\tlng: 16.303881\r\n\t\t};\r\n\r\n\t\tlet mapPosition = {\r\n\t\t\tlat: markerPosition.lat - 0.005,\r\n\t\t\tlng: markerPosition.lng\r\n\t\t};\r\n\r\n\t\tlet map = new google.maps.Map(elMap, {\r\n\t\t\tcenter: mapPosition,\r\n\t\t\tzoom: 11,\r\n\t\t\tclickableIcons: false,\r\n\t\t\tdisableDefaultUI: true,\r\n\t\t\tkeyboardShortcuts: false,\r\n\t\t\tzoomControl: false,\r\n\t\t\tscrollwheel: false,\r\n\t\t\tstyles: [{\r\n\t\t\t\t\"stylers\": [{\r\n\t\t\t\t\t\"hue\": \"#000000\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tsaturation: -110\r\n\t\t\t\t}, {\r\n\t\t\t\t\tgamma: 1.7\r\n\t\t\t\t}]\r\n\t\t\t}]\r\n\t\t});\r\n\r\n\t\tlet marker = new google.maps.Marker({\r\n\t\t\tposition: markerPosition,\r\n\t\t\tmap: map\r\n\t\t});\r\n\t}\r\n}(window));","(function () {\r\n\t'use strict';\r\n\r\n\t//********************************************\r\n\t// CONSTANTS\r\n\t//********************************************\r\n\tconst ALLOWED_PAGES = {\r\n\t\tNONE: '',\r\n\t\tTEASER: 'teaser',\r\n\t\tRESUME: 'resume'\r\n\t};\r\n\r\n\t//********************************************\r\n\t// SELECTORS\r\n\t//********************************************\r\n\tconst _menuSwitches = Array.from(document.querySelectorAll('[data-menu-switch]'));\r\n\tconst _pageAnchors = Array.from(document.querySelectorAll('[data-target]'));\r\n\tconst _projectSwitches = Array.from(document.querySelectorAll('[data-project]'));\r\n\tconst _resumeSwitches = Array.from(document.querySelectorAll('[data-resume-switch]'));\r\n\tconst _master = document.body;\r\n\r\n\t//********************************************\r\n\t// INITIALIZE\r\n\t//********************************************\r\n\tinit();\r\n\r\n\t///////////////////////////////////////////////////////////////////////\r\n\r\n\t//********************************************\r\n\t// FUNCTIONS\r\n\t//********************************************\r\n\tfunction init() {\r\n\t\t_menuSwitches.forEach((menuSwitch) => {\r\n\t\t\tmenuSwitch.addEventListener('click', (e) => {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif (_master.dataset.active === ALLOWED_PAGES.TEASER) {\r\n\t\t\t\t\treturn closeMenu();\r\n\t\t\t\t}\r\n\t\t\t\treturn openMenu();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t_resumeSwitches.forEach((resumeSwitch) => {\r\n\t\t\tresumeSwitch.addEventListener('click', (e) => {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif(_master.dataset.active === ALLOWED_PAGES.RESUME){\r\n\t\t\t\t\treturn closeResume();\r\n\t\t\t\t}\r\n\t\t\t\treturn openResume();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t_pageAnchors.forEach((pageAnchor) => {\r\n\r\n\t\t});\r\n\r\n\t\t_projectSwitches.forEach((projectSwitch) => {\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tfunction closeMenu() {\r\n\t\t_master.dataset.active = ALLOWED_PAGES.NONE;\r\n\t}\r\n\r\n\tfunction openMenu() {\r\n\t\t_master.dataset.active = ALLOWED_PAGES.TEASER;\r\n\t}\r\n\r\n\tfunction closeResume() {\r\n\t\t_master.dataset.active = ALLOWED_PAGES.NONE;\r\n\t}\r\n\r\n\tfunction openResume() {\r\n\t\t_master.dataset.active = ALLOWED_PAGES.RESUME;\r\n\t}\r\n}());","(function () {\r\n\t'use strict';\r\n\r\n\t// TODO: learn proper english and update comments then\r\n\t// TODO: implement click-event on project previews\r\n\r\n\t//********************************************\r\n\t// CONSTANTS\r\n\t//********************************************\r\n\tconst INTERVAL_TIME = 5000;                     // Preview carousel interval\r\n\tconst MIN_DRAG_DISTANCE = 0.25;                 // Factor of preview width, that the user has to swipe\r\n\tconst PROJECT_ACTIVE_CLASS = 'active';          // Classname for currently visible project preview\r\n\tconst UNSET_ACTIVE_TIME = 150;                  // Duration how long the preview has to be pressed until the zoom effect will be disabled\r\n\r\n\t//********************************************\r\n\t// VARIABLES\r\n\t//********************************************\r\n\tlet activeProjectIndex = 0;                     // Determinates the currently visible preview\r\n\tlet bodyObserver;                               // Contains intersection observer to check, if projects are visible or not\r\n\tlet firstInteractionPosition;                   // Contains the position of the last interaction start position (mouse or touch)\r\n\tlet firstTouchPosition;                         // Contains the position of the last touch start position\r\n\tlet lastInteractionPosition;                    // Contains the position of the last interaction move position (mouse or touch)\r\n\tlet preventNextClick;                           // Next click-event should be aborted, because touchend event cannot prevent click event\r\n\tlet projectCarousel;                            // Contains the interval object of the preview carousel\r\n\tlet projectsVisible = true;                     // Contains information, if projects are visible or not\r\n\tlet unsetActiveTimeout;                         // Contains timeout which will be created when a interaction start begins. When finished, it will remove the active-class from all project previews\r\n\r\n\t//********************************************\r\n\t// SELECTORS\r\n\t//********************************************\r\n\tconst _projectPreviewContainer = document.querySelector('#projects .project-slider');\r\n\tconst _projectPreviews = Array.from(document.querySelectorAll('#projects .project'));\r\n\tconst _projectProgress = document.querySelector('#projects .project-wrapper progress');\r\n\tconst _projectSection = document.querySelector('#projects');\r\n\r\n\t//********************************************\r\n\t// REGISTER EVENTS\r\n\t//********************************************\r\n\t_projectPreviewContainer.addEventListener('touchstart', onContainerTouchStart);\r\n\t_projectPreviewContainer.addEventListener('touchmove', onContainerTouchMove);\r\n\t_projectPreviewContainer.addEventListener('touchend', onContainerTouchEnd);\r\n\t_projectPreviewContainer.addEventListener('touchcancel', onContainerTouchEnd);\r\n\t_projectPreviewContainer.addEventListener('mousedown', onContainerMouseDown);\r\n\t_projectPreviewContainer.addEventListener('mousemove', onContainerMouseMove);\r\n\t_projectPreviewContainer.addEventListener('mouseup', onContainerMouseUp);\r\n\r\n\t//********************************************\r\n\t// INITIALIZE\r\n\t//********************************************\r\n\tinit();\r\n\r\n\t///////////////////////////////////////////////////////////////////////\r\n\r\n\t//********************************************\r\n\t// FUNCTIONS\r\n\t//********************************************\r\n\t/**\r\n\t * Should be run once, when the page is loaded.\r\n\t * Dynamically binds click-event to all project previews, initializes the intersection observer and starts\r\n\t * the project carousel\r\n\t */\r\n\tfunction init() {\r\n\t\t// Bind events to projects\r\n\t\t_projectPreviews.forEach((project, index) => {\r\n\t\t\tproject.addEventListener('click', (e) => {\r\n\t\t\t\tif (preventNextClick) {\r\n\t\t\t\t\tpreventNextClick = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (project.classList.contains(PROJECT_ACTIVE_CLASS)) {\r\n\t\t\t\t\tconsole.log(\"open project\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tactiveProjectIndex = index;\r\n\t\t\t\t\tsetActiveProject(activeProjectIndex);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tif ('IntersectionObserver' in window) {\r\n\t\t\tbodyObserver = new IntersectionObserver(observerCallback);\r\n\t\t\tbodyObserver.observe(_projectSection);\r\n\t\t}\r\n\r\n\t\tprojectCarousel = setInterval(nextProject, INTERVAL_TIME);\r\n\t}\r\n\r\n\t/**\r\n\t * Should be executed whenever the observer detects a change.\r\n\t * Determinates, if the project container is visible and saves the result to projectsVisible variable\r\n\t * @param entry\r\n\t */\r\n\tfunction observerCallback(entry) {\r\n\t\tif (entry.length > 1) {\r\n\t\t\tthrow new Error('too many entries on observer');\r\n\t\t}\r\n\t\tprojectsVisible = entry[0].isIntersecting;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets focus to the project preview on given index\r\n\t * @param {int} [index=activeProjectIndex] - Index of project preview, which should be focused\r\n\t */\r\n\tfunction setActiveProject(index = activeProjectIndex) {\r\n\t\trequestAnimationFrame(() => {\r\n\t\t\t_projectPreviewContainer.classList.remove('notransition');\r\n\r\n\t\t\tfor (let sibling of _projectPreviews) {\r\n\t\t\t\tsibling.classList.remove(PROJECT_ACTIVE_CLASS);\r\n\t\t\t}\r\n\r\n\t\t\t_projectPreviewContainer.style.transform = `translateX(${index * -100}%)`;\r\n\t\t\t_projectPreviews[index].classList.add(PROJECT_ACTIVE_CLASS);\r\n\t\t\t_projectProgress.value = index + 1;\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Makes a next step in the project carousel. When the end is reached, the index will be set to 0\r\n\t */\r\n\tfunction nextProject() {\r\n\t\tif (projectsVisible) {\r\n\t\t\tif (activeProjectIndex < _projectPreviews.length - 1) {\r\n\t\t\t\tactiveProjectIndex++;\r\n\t\t\t} else {\r\n\t\t\t\tactiveProjectIndex = 0;\r\n\t\t\t}\r\n\r\n\t\t\tsetActiveProject();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Prepares further move-interactions with projectpreviews.\r\n\t * Should be called whenever an interaction starts (touch or mouse)\r\n\t * @param {number} x - X-Position of interaction start\r\n\t * @param {number} y - Y-Position of interaction start\r\n\t */\r\n\tfunction containerInteractionStart(x, y) {\r\n\t\t// Save start position\r\n\t\tfirstInteractionPosition = {\r\n\t\t\tx: x,\r\n\t\t\ty: y\r\n\t\t};\r\n\r\n\t\t// Clear project rotation\r\n\t\tclearInterval(projectCarousel);\r\n\t\tprojectCarousel = null;\r\n\r\n\t\t// Pause animations when dragging project\r\n\t\trequestAnimationFrame(() => {\r\n\t\t\t_projectPreviewContainer.classList.add('notransition')\r\n\t\t});\r\n\r\n\t\t// Remove active class from project\r\n\t\tif (!unsetActiveTimeout) {\r\n\t\t\tunsetActiveTimeout = setTimeout(() => {\r\n\t\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\t\tfor (let prev of _projectPreviews) {\r\n\t\t\t\t\t\tprev.classList.remove(PROJECT_ACTIVE_CLASS);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpreventNextClick = true;\r\n\t\t\t\t});\r\n\t\t\t}, UNSET_ACTIVE_TIME);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Calculates percentual move offset and moves project previews to calculated offset.\r\n\t * Should be called on every interaction move\r\n\t * @param {number} x - X-Position of interaction move\r\n\t * @param {number} y - Y-Position of interaction move\r\n\t */\r\n\tfunction containerInteractionMove(x, y) {\r\n\t\tif (!firstInteractionPosition) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet xDist = firstInteractionPosition.x - x;\r\n\t\tlet projectWidth = parseInt(window.getComputedStyle(_projectPreviewContainer).width);\r\n\t\tlet percentOffset = xDist / projectWidth;\r\n\t\tlet totalOffset = ((activeProjectIndex) + percentOffset) * -100;\r\n\r\n\t\trequestAnimationFrame(() => {\r\n\t\t\t_projectPreviewContainer.style.transform = `translateX(${totalOffset}%)`;\r\n\t\t});\r\n\r\n\t\tlastInteractionPosition = {\r\n\t\t\tx: x,\r\n\t\t\ty: y\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Should be called whenever the interaction ends or the interaction should be aborted.\r\n\t * Resets all values and sets focus to new project index\r\n\t */\r\n\tfunction containerInteractionEnd() {\r\n\t\tif (firstInteractionPosition && lastInteractionPosition) {\r\n\t\t\tlet xDist = firstInteractionPosition.x - lastInteractionPosition.x;\r\n\t\t\tlet projectWidth = parseInt(window.getComputedStyle(_projectPreviewContainer).width);\r\n\t\t\tlet percentOffset = xDist / projectWidth;\r\n\r\n\t\t\tif (percentOffset < -MIN_DRAG_DISTANCE && activeProjectIndex > 0) {\r\n\t\t\t\tactiveProjectIndex--;\r\n\t\t\t}\r\n\r\n\t\t\tif (percentOffset > MIN_DRAG_DISTANCE && activeProjectIndex < _projectPreviews.length - 1) {\r\n\t\t\t\tactiveProjectIndex++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetActiveProject(activeProjectIndex);\r\n\t\tclearTimeout(unsetActiveTimeout);\r\n\t\tfirstInteractionPosition = null;\r\n\t\tlastInteractionPosition = null;\r\n\t\tunsetActiveTimeout = null;\r\n\r\n\t\tprojectCarousel = setInterval(nextProject, INTERVAL_TIME);\r\n\t}\r\n\r\n\t//********************************************\r\n\t// EVENT HANDLER\r\n\t//********************************************\r\n\t/**\r\n\t * Gets called when a touch starts.\r\n\t * If started touch is the first one, starts project interaction\r\n\t * @param e Event\r\n\t */\r\n\tfunction onContainerTouchStart(e) {\r\n\t\tif (e.touches.length > 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfirstTouchPosition = {\r\n\t\t\tx: e.touches[0].screenX,\r\n\t\t\ty: e.touches[0].screenY,\r\n\t\t\tidentifier: e.touches[0].identifier\r\n\t\t};\r\n\r\n\t\tcontainerInteractionStart(firstTouchPosition.x, firstTouchPosition.y);\r\n\t}\r\n\r\n\t/**\r\n\t * Gets called when a touch move has been detected.\r\n\t * If the touch angle is less than +- 45deg, the interaction move function gets called.\r\n\t * @param e Event\r\n\t */\r\n\tfunction onContainerTouchMove(e) {\r\n\t\t// Return if no touch position was found\r\n\t\tif (!firstTouchPosition) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Identify touch\r\n\t\tlet touch;\r\n\t\tfor (let t of e.touches) {\r\n\t\t\tif (t.identifier === firstTouchPosition.identifier) {\r\n\t\t\t\ttouch = {\r\n\t\t\t\t\tx: t.screenX,\r\n\t\t\t\t\ty: t.screenY\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!touch) {\r\n\t\t\treturn onContainerTouchEnd();\r\n\t\t}\r\n\r\n\t\tlet touchMoveVector = {\r\n\t\t\tx: touch.x - firstTouchPosition.x,\r\n\t\t\ty: touch.y - firstTouchPosition.y\r\n\t\t};\r\n\r\n\t\tlet touchMoveAngle = Math.abs(Math.atan2(touchMoveVector.y, touchMoveVector.x));\r\n\r\n\t\tif ((touchMoveAngle < Math.PI / 4 || touchMoveAngle > Math.PI / 4 * 3) && e.cancelable) {\r\n\t\t\t// Prevents native page-foward/-back interactions\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tcontainerInteractionMove(touch.x, touch.y);\r\n\t\t} else {\r\n\t\t\tonContainerTouchEnd();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Gets called when a touch ends.\r\n\t * Resets all, by the touch used, variables and calls the interaction end function\r\n\t */\r\n\tfunction onContainerTouchEnd() {\r\n\t\tif (!firstTouchPosition) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfirstTouchPosition = null;\r\n\t\tcontainerInteractionEnd();\r\n\t}\r\n\r\n\t/**\r\n\t * Proxy function for interactionstart on mousedown\r\n\t * @param e\r\n\t */\r\n\tfunction onContainerMouseDown(e) {\r\n\t\tcontainerInteractionStart(e.screenX, e.screenY);\r\n\t}\r\n\r\n\t/**\r\n\t * Proxy function for interactionmove on mousemove\r\n\t * @param e\r\n\t */\r\n\tfunction onContainerMouseMove(e) {\r\n\t\tcontainerInteractionMove(e.screenX, e.screenY);\r\n\t}\r\n\r\n\t/**\r\n\t * Procy function for interactionend on mouseup\r\n\t */\r\n\tfunction onContainerMouseUp() {\r\n\t\tcontainerInteractionEnd();\r\n\t}\r\n}());\r\n"]}
{"version":3,"sources":["main.js"],"names":["_cookieAcceptName","cookieElement","document","querySelector","triggerElements","querySelectorAll","circleCanvasElements","addEventListener","e","switchElement","dataset","active","requestAnimationFrame","console","info","localStorage","getItem","style","display","preventDefault","i","target","length","Error","targetActive","j","parentElement","hasOwnProperty","foregroundStroke","value","parseInt","ctx","strokeWidth","stroke","getContext","beginPath","window","getComputedStyle","width","height","lineWidth","strokeStyle","arc","Math","PI"],"mappings":"cAAC,WAIA,IAAAA,EAAA,kBAKAC,EAAAC,SAAAC,cAAA,YACAC,EAAAF,SAAAG,iBAAA,wBACAC,EAAAJ,SAAAG,iBAAA,2BACMJ,EAAgBC,SAASC,KACPD,SAASG,cAAiB,YAKlDE,iBAAA,QAwCA,SAAAC,GACA,WAAAC,EAAAC,QAAAC,OAIEC,sBAAqBF,WACrBD,EAAAC,QAAAC,OAAA,kBAJFF,EAAAC,QAAAC,SA5BAE,QAAAC,KAAA,+HAGCD,OAAAE,aAAaC,QAAAhB,KAIZC,EAAcgB,MAAMC,QAAU,QAF/BjB,EAAAM,iBAAA,QAAA,SAAAC,GACAA,EAAIW,iBACHlB,OAAAA,aAAoBiB,QAApBlB,GAAA,GACAC,EAAcM,MAAAA,QAAiB,UAkE/B,IAAA,IAAGa,EAAOC,EAAAA,EAAPjB,EAA2BkB,OAAAF,IAC7BhB,EAAUmB,GAAMhB,iBAAA,QAAA,SAAAC,GAChBA,EAAAW,iBAEDP,IAAAA,EAAAA,EAAAA,OAAsBF,QAAAc,aAErB,GAFD,iBAAAH,EAlBD,IAAA,IAAAI,EAAAjB,EAAAa,OAAAI,EAAAA,EAAAC,eAsBA,GAAAD,EAAAf,QAAAiB,eAAA,gBAAA,CAdIN,EAASI,EAAEf,QAAQc,aAgBnB,MAKJ,GAAII,iBAAAA,EACJ,MAAIC,IAAQC,MAAAA,gCAZXlB,sBAAsB,WAgBvBmB,EAAgBC,QAAAA,OAAhBX,MAKAU,IAAIE,IAAAA,EAAJ,EAAAb,EAAAd,EAAAgB,OAAAF,IAAA,CAdA,IAAIW,EAAMzB,EAAqBc,GAAGc,WAAW,MAgBzCC,EAAJL,SAAAM,OAAAC,iBAAA/B,EAAAc,IAAAkB,OAIAT,EAAAC,SAAAxB,EAAAc,GAAAV,QAAAmB,OAbAvB,EAAqBc,GAAGkB,MAAQhC,EAAqBc,GAAGmB,OAASjB,EAEjES,EAAIS,UAQcZ,GANlBG,EAAII,YACJJ,EAAIU,YAMgBnB,UALpBS,EAAIW,IAAIpB,EAAS,EAAGA,EAAS,EAAGA,EAAS,EAIvBM,GAJwC,EAAG,EAAIe,KAAKC,IACtEb,EAAIE,SAEJF,EAAII,YACJJ,EAAIU,YAEJ,UADAV,EAAIW,IAAIpB,EAAS,EAAGA,EAAS,EAAGA,EAAS,EADvBM,IACyCe,KAAKC,GAAK,EAAG,EAAID,KAAKC,GAAK,IAAMf,EAAQc,KAAKC,GAAK,GAC9Gb,EAAIE","file":"main.js","sourcesContent":["(function () {\n\t'use strict';\n\n\t//********************************************\n\t// CONSTANTS\n\t//********************************************\n\tconst _cookieAcceptName = 'cookiesAccepted';\n\tconst _allowedPageNames = ['', 'teaser', 'resume'];\n\n\t//********************************************\n\t// SELECTORS\n\t//********************************************\n\tconst cookieElement = document.querySelector('#cookies');\n\tconst triggerElements = document.querySelectorAll('[data-target-active]');\n\tconst circleCanvasElements = document.querySelectorAll('#languages .lang canvas');\n\tconst switchElement = document.body;\n\tconst menuSwitchElement = document.querySelector('#trigger');\n\n\t//********************************************\n\t// REGISTER EVENT HANDLER\n\t//********************************************\n\tmenuSwitchElement.addEventListener('click', onMenuSwitchClick);\n\n\t//********************************************\n\t// INITIALIZATION\n\t//********************************************\n\tinit();\n\n\t///////////////////////////////////////////////////////////////////////\n\n\t//********************************************\n\t// FUNCTIONS\n\t//********************************************\n\tfunction init(){\n\t\t// Show console welcome message\n\t\tconsole.info('You like to look under the hood? Check out the source code on github ðŸ˜Ž\\nhttps://github.com/schwarzdavid/schwarzdavid.rocks');\n\n\t\t// Show cookie hint\n\t\tif (!window.localStorage.getItem(_cookieAcceptName)) {\n\t\t\tcookieElement.style.display = 'block';\n\t\t\tcookieElement.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.localStorage.setItem(_cookieAcceptName, true);\n\t\t\t\tcookieElement.style.display = 'none';\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction setCurrentPage(page) {\n\t\tif(page && _allowedPageNames.indexOf(page) < 0){\n\t\t\tthrow new Error('Page not allowed');\n\t\t}\n\n\t\trequestAnimationFrame(() => {\n\t\t\tswitchElement.dataset.active = 'teaser';\n\t\t});\n\t}\n\n\t//********************************************\n\t// EVENT HANDLER\n\t//********************************************\n\tfunction onMenuSwitchClick(e) {\n\t\tif (switchElement.dataset.active === 'teaser') {\n\t\t\tdelete switchElement.dataset.active;\n\t\t\treturn;\n\t\t}\n\t\trequestAnimationFrame(() => {\n\t\t\tswitchElement.dataset.active = 'teaser';\n\t\t});\n\t}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t////////////////////////////////////////////////////////////////////////////////////////////// OLD CONTENT\n\n\tfor (let i = 0; i < triggerElements.length; i++) {\n\t\ttriggerElements[i].addEventListener('click', (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tlet target = e.target.dataset.targetActive;\n\n\t\t\tif(typeof target !== 'string') {\n\t\t\t\tfor (let j = e.target; j = j.parentElement;) {\n\t\t\t\t\tif (j.dataset.hasOwnProperty('targetActive')) {\n\t\t\t\t\t\ttarget = j.dataset.targetActive;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(typeof target !== 'string'){\n\t\t\t\tthrow new Error(\"cannot find target attribute\");\n\t\t\t}\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tswitchElement.dataset.active = target;\n\t\t\t});\n\t\t});\n\t}\n\n\tfor (let i = 0; i < circleCanvasElements.length; i++) {\n\t\tlet ctx = circleCanvasElements[i].getContext('2d');\n\t\tlet length = parseInt(window.getComputedStyle(circleCanvasElements[i]).width);\n\t\tlet strokeWidth = 15;\n\t\tlet backgroundStroke = '#eaeaea';\n\t\tlet foregroundStroke = '#2c2c2c';\n\t\tlet value = parseInt(circleCanvasElements[i].dataset.value);\n\n\t\tcircleCanvasElements[i].width = circleCanvasElements[i].height = length;\n\n\t\tctx.lineWidth = strokeWidth;\n\n\t\tctx.beginPath();\n\t\tctx.strokeStyle = backgroundStroke;\n\t\tctx.arc(length / 2, length / 2, length / 2 - strokeWidth, 0, 2 * Math.PI);\n\t\tctx.stroke();\n\n\t\tctx.beginPath();\n\t\tctx.strokeStyle = foregroundStroke;\n\t\tctx.arc(length / 2, length / 2, length / 2 - strokeWidth, -Math.PI / 2, 2 * Math.PI / 100 * value - Math.PI / 2);\n\t\tctx.stroke();\n\t}\n}());"]}
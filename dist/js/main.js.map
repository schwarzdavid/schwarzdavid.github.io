{"version":3,"sources":["main.js"],"names":["win","setCurrentPage","page","_allowedPageNames","hasOwnProperty","Error","sibling","switchElement","dataset","active","drawCanvasCircles","i","circleCanvasElements","length","ctx","getContext","size","parseInt","window","getComputedStyle","width","value","height","lineWidth","_circleStrokeWith","beginPath","wrapper","transform","el","classList","add","Math","PI","stroke","strokeStyle","_circleForegroundStroke","arc","projectsElement","onWindowResize","saturation","_cookieAcceptName","none","teaser","resume","_abandonedTitle","title","_defaultTitle","cookieElement","document","querySelector","triggerElements","querySelectorAll","menuSwitchElement","addEventListener","lng","lat","markerPosition","clickableIcons","disableDefaultUI","scrollwheel","keyboardShortcuts","initMap","map","google","center","zoom","stylers","gamma","maps","Marker","position","console","info","localStorage","getItem","style","display","e","preventDefault","targetActive","parentElement","siblings","children","indexOf","contains","requestAnimationFrame","_step","_iterator","prototype","Symbol","iterator","_iteratorNormalCompletion","next","done","slice"],"mappings":"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","file":"main.js","sourcesContent":["(function (win) {\n\t'use strict';\n\n\t//********************************************\n\t// CONSTANTS\n\t//********************************************\n\tconst _cookieAcceptName = 'cookiesAccepted';\n\tconst _allowedPageNames = {none: '', teaser: 'teaser', resume: 'resume'};\n\tconst _abandonedTitle = '❤ Come back ❤';\n\tconst _defaultTitle = document.title;\n\tconst _circleStrokeWith = 15;\n\tconst _circleBackgroundStroke = '#eaeaea';\n\tconst _circleForegroundStroke = '#2c2c2c';\n\n\t//********************************************\n\t// SELECTORS\n\t//********************************************\n\tconst cookieElement = document.querySelector('#cookies');\n\tconst triggerElements = document.querySelectorAll('[data-target-active]');\n\tconst circleCanvasElements = document.querySelectorAll('#languages .lang canvas');\n\tconst switchElement = document.body;\n\tconst menuSwitchElement = document.querySelector('#trigger');\n\tconst projectsElement = document.querySelectorAll('#projects .project');\n\tconst mapElement = document.querySelector('#map');\n\n\t//********************************************\n\t// REGISTER EVENT HANDLER\n\t//********************************************\n\tmenuSwitchElement.addEventListener('click', onMenuSwitchClick);\n\tdocument.addEventListener('visibilitychange', onWindowVisibilityChange);\n\twindow.addEventListener('resize', onWindowResize);\n\n\t//********************************************\n\t// EXPORTS\n\t//********************************************\n\twin.initMap = initMap;\n\n\t//********************************************\n\t// INITIALIZATION\n\t//********************************************\n\tinit();\n\n\t///////////////////////////////////////////////////////////////////////\n\n\t//********************************************\n\t// FUNCTIONS\n\t//********************************************\n\tfunction init() {\n\t\t// Show console welcome message\n\t\tconsole.info('You like to look under the hood? Check out the source code on github 😎\\nhttps://github.com/schwarzdavid/schwarzdavid.rocks');\n\n\t\t// Show cookie hint\n\t\tif (!window.localStorage.getItem(_cookieAcceptName)) {\n\t\t\tcookieElement.style.display = 'block';\n\t\t\tcookieElement.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.localStorage.setItem(_cookieAcceptName, true);\n\t\t\t\tcookieElement.style.display = 'none';\n\t\t\t});\n\t\t}\n\n\t\t// Redraw window-size-dependent elements\n\t\tonWindowResize();\n\n\t\t// Bind events to all trigger buttons\n\t\tfor (let i = 0; i < triggerElements.length; i++) {\n\t\t\tconst el = triggerElements[i];\n\n\t\t\tel.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tsetCurrentPage(el.dataset.targetActive);\n\t\t\t});\n\t\t}\n\n\t\t// Bind events to projects\n\t\tfor (let i = 0; i < projectsElement.length; i++) {\n\t\t\tconst el = projectsElement[i];\n\t\t\tconst wrapper = el.parentElement;\n\t\t\tconst siblings = Array.prototype.slice.call(wrapper.children, 0);\n\t\t\tconst position = siblings.indexOf(el);\n\n\t\t\tel.addEventListener('click', () => {\n\t\t\t\tif (el.classList.contains('active')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\tfor (let sibling of siblings) {\n\t\t\t\t\t\tsibling.classList.remove('active');\n\t\t\t\t\t}\n\n\t\t\t\t\twrapper.style.transform = `translateX(-${position * 100}%)`;\n\t\t\t\t\tel.classList.add('active');\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t}\n\n\tfunction setCurrentPage(page) {\n\t\tif (page && _allowedPageNames.hasOwnProperty(page) < 0) {\n\t\t\tthrow new Error('Page not allowed');\n\t\t}\n\n\t\trequestAnimationFrame(() => {\n\t\t\tswitchElement.dataset.active = page;\n\t\t});\n\t}\n\n\tfunction drawCanvasCircles() {\n\t\tfor (let i = 0; i < circleCanvasElements.length; i++) {\n\t\t\tlet ctx = circleCanvasElements[i].getContext('2d');\n\t\t\tlet size = parseInt(window.getComputedStyle(circleCanvasElements[i]).width);\n\t\t\tlet value = parseInt(circleCanvasElements[i].dataset.value);\n\n\t\t\t// TODO: check with firefox\n\t\t\tcircleCanvasElements[i].width = circleCanvasElements[i].height = size;\n\n\t\t\tctx.lineWidth = _circleStrokeWith;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.strokeStyle = _circleBackgroundStroke;\n\t\t\tctx.arc(size / 2, size / 2, size / 2 - _circleStrokeWith, 0, 2 * Math.PI);\n\t\t\tctx.stroke();\n\n\t\t\tctx.beginPath();\n\t\t\tctx.strokeStyle = _circleForegroundStroke;\n\t\t\tctx.arc(size / 2, size / 2, size / 2 - _circleStrokeWith, -Math.PI / 2, 2 * Math.PI / 100 * value - Math.PI / 2);\n\t\t\tctx.stroke();\n\t\t}\n\t}\n\n\tfunction initMap() {\n\t\tlet markerPosition = {\n\t\t\tlat: 48.202765,\n\t\t\tlng: 16.303881\n\t\t};\n\n\t\tlet mapPosition = {\n\t\t\tlat: markerPosition.lat - 0.007,\n\t\t\tlng: markerPosition.lng\n\t\t};\n\n\t\tlet map = new google.maps.Map(mapElement, {\n\t\t\tcenter: mapPosition,\n\t\t\tzoom: 13,\n\t\t\tclickableIcons: false,\n\t\t\tdisableDefaultUI: true,\n\t\t\tkeyboardShortcuts: false,\n\t\t\tzoomControl: false,\n\t\t\tscrollwheel: false,\n\t\t\tstyles: [{\n\t\t\t\t\"stylers\": [{\n\t\t\t\t\t\"hue\": \"#000000\"\n\t\t\t\t}, {\n\t\t\t\t\tsaturation: -110\n\t\t\t\t}, {\n\t\t\t\t\tgamma: 1.7\n\t\t\t\t}]\n\t\t\t}]\n\t\t});\n\n\t\tlet marker = new google.maps.Marker({\n\t\t\tposition: markerPosition,\n\t\t\tmap: map\n\t\t});\n\t}\n\n\t//********************************************\n\t// EVENT HANDLER\n\t//********************************************\n\tfunction onMenuSwitchClick() {\n\t\tif (switchElement.dataset.active === _allowedPageNames.none) {\n\t\t\tsetCurrentPage(_allowedPageNames.teaser);\n\t\t} else {\n\t\t\tsetCurrentPage(_allowedPageNames.none);\n\t\t}\n\t}\n\n\tfunction onWindowVisibilityChange() {\n\t\tif (!document.hidden) {\n\t\t\tdocument.title = _defaultTitle;\n\t\t} else {\n\t\t\tdocument.title = _abandonedTitle;\n\t\t}\n\t}\n\n\tfunction onWindowResize() {\n\t\tdrawCanvasCircles();\n\t}\n}(window));"]}
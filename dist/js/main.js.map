{"version":3,"sources":["main.js"],"names":["onWindowResize","page","_allowedPageNames","indexOf","Error","requestAnimationFrame","switchElement","dataset","active","drawCanvasCircles","i","circleCanvasElements","length","ctx","getContext","getComputedStyle","width","strokeWidth","value","foregroundStroke","height","lineWidth","beginPath","arc","Math","PI","stroke","window","_cookieAcceptName","none","teaser","resume","_abandonedTitle","title","cookieElement","document","querySelector","triggerElements","querySelectorAll","addEventListener","setCurrentPage","hidden","_defaultTitle","console","info","localStorage","getItem","style","display","e","preventDefault","targetActive","target","j","parentElement"],"mappings":"cAAC,WAoDCA,SAAAA,EAAAA,GACA,GAAAC,GAAAC,EAAAC,QAAAF,GAAA,EAIC,MAAM,IAAIG,MAAM,oBAAhBC,sBAAgB,WAChBC,EAAAC,QAAAC,OAAAP,IAIA,SAFDQ,IAGA,IAAA,IAAAC,EAAA,EAAAA,EAAAC,EAAAC,OAAAF,IAAA,CAIC,IAAIG,EAAMF,EAAqBD,GAAGI,WAAW,MAF/CF,EAASH,SAAAA,OAAoBM,iBAAAJ,EAAAD,IAAAM,OAIvBC,EAAAA,SAAJN,EAAAD,GAAAH,QAAAW,OAEAP,EAAIQ,GAAmBH,MAAvBL,EAAAD,GAAAU,OAAAR,EAKAC,EAAIQ,UAVWX,GAYfG,EAAIS,YAFJT,EAAIQ,YATMV,UAaVE,EAAIU,IAAIX,EAAS,EAAGA,EAAS,EAAGA,EAAS,EAd1BF,GAc2C,EAAG,EAAIc,KAAKC,IAFtEZ,EAAIS,SAEJT,EAAIU,YACJV,EAAIa,YAbkBC,UAiBtBd,EAAIU,IAAIX,EAAS,EAAGA,EAAS,EAAGA,EAAS,EAnB1BF,IAmB4Cc,KAAKC,GAAK,EAAG,EAAID,KAAKC,GAAK,IAAMP,EAAQM,KAAKC,GAAK,GAF9GZ,EAAIS,UAuBJ,SAAAtB,IACDS,IAvGD,IAAAmB,EAAA,kBACA1B,GAAA2B,KAAA,GAAAC,OAAA,SAAAC,OAAA,UAGMC,EAAkB,gBAFlBJ,EAAAA,SAAoBK,MAK1BC,EAAAC,SAAAC,cAAA,YACAC,EAAAF,SAAAG,iBAAA,wBACA3B,EAAAwB,SAAAG,iBAAA,2BACMJ,EAAgBC,SAASC,KACPD,SAASG,cAAiB,YAKlDC,iBAAA,QAsEA,WAEAC,EADAlC,EAAAC,QAAAC,SAAAN,EAAA2B,KACA3B,EAAA2B,KAEKvB,EAAAwB,UAzELK,SAAAI,iBAAA,mBA6EE,WACDJ,SAAAM,OAGAN,SAAKA,MAASM,EACbN,SAASF,MAAQS,IAjFnBf,OAAAY,iBAAA,SAAAvC,GAcA2C,QAAAC,KAAA,+HAGCD,OAAAE,aAAaC,QAAAlB,KAIZM,EAAca,MAAMC,QAAU,QAF/Bd,EAAAK,iBAAA,QAAA,SAAAU,GACAA,EAAIC,iBACHhB,OAAAA,aAAoBc,QAApBpB,GAAA,GACAM,EAAcK,MAAAA,QAAiB,UAK/BvC,IAiEF,IAAA,IAAAU,EAAA,EAAAA,EAAA2B,EAAAzB,OAAAF,IAGC2B,EAAgB3B,GAAG6B,iBAAiB,QAAS,SAACU,GAD/CA,EAAAC,iBAEED,IAAEC,EAAAA,EAAAA,OAAF3C,QAAA4C,aAEA,GAAsB5C,iBAAlB6C,EAGH,IAAK,IAAIC,EAAIJ,EAAEG,OAAQC,EAAIA,EAAEC,eAD9B,GAAID,EAAA9C,QAAO6C,eAAX,gBAAgC,CAC/BA,EAASC,EAAIJ,QAAbE,aACC,MAKD,GAAA,iBAAAC,EAGA,MAAM,IAAIhD,MAAM,gCAChBC,sBAAA,WAGAC,EAAcC,QAAQC,OAAS4C","file":"main.js","sourcesContent":["(function () {\n\t'use strict';\n\n\t//********************************************\n\t// CONSTANTS\n\t//********************************************\n\tconst _cookieAcceptName = 'cookiesAccepted';\n\tconst _allowedPageNames = {none: '', teaser: 'teaser', resume: 'resume'};\n\tconst _abandonedTitle = '❤ Come back ❤';\n\tconst _defaultTitle = document.title;\n\n\t//********************************************\n\t// SELECTORS\n\t//********************************************\n\tconst cookieElement = document.querySelector('#cookies');\n\tconst triggerElements = document.querySelectorAll('[data-target-active]');\n\tconst circleCanvasElements = document.querySelectorAll('#languages .lang canvas');\n\tconst switchElement = document.body;\n\tconst menuSwitchElement = document.querySelector('#trigger');\n\n\t//********************************************\n\t// REGISTER EVENT HANDLER\n\t//********************************************\n\tmenuSwitchElement.addEventListener('click', onMenuSwitchClick);\n\tdocument.addEventListener('visibilitychange', onWindowVisibilityChange);\n\twindow.addEventListener('resize', onWindowResize);\n\n\t//********************************************\n\t// INITIALIZATION\n\t//********************************************\n\tinit();\n\n\t///////////////////////////////////////////////////////////////////////\n\n\t//********************************************\n\t// FUNCTIONS\n\t//********************************************\n\tfunction init() {\n\t\t// Show console welcome message\n\t\tconsole.info('You like to look under the hood? Check out the source code on github 😎\\nhttps://github.com/schwarzdavid/schwarzdavid.rocks');\n\n\t\t// Show cookie hint\n\t\tif (!window.localStorage.getItem(_cookieAcceptName)) {\n\t\t\tcookieElement.style.display = 'block';\n\t\t\tcookieElement.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.localStorage.setItem(_cookieAcceptName, true);\n\t\t\t\tcookieElement.style.display = 'none';\n\t\t\t});\n\t\t}\n\n\t\t// Redraw window-size-dependent elements\n\t\tonWindowResize();\n\t}\n\n\tfunction setCurrentPage(page) {\n\t\tif (page && _allowedPageNames.indexOf(page) < 0) {\n\t\t\tthrow new Error('Page not allowed');\n\t\t}\n\n\t\trequestAnimationFrame(() => {\n\t\t\tswitchElement.dataset.active = page;\n\t\t});\n\t}\n\n\tfunction drawCanvasCircles() {\n\t\tfor (let i = 0; i < circleCanvasElements.length; i++) {\n\t\t\tlet ctx = circleCanvasElements[i].getContext('2d');\n\t\t\tlet length = parseInt(window.getComputedStyle(circleCanvasElements[i]).width);\n\t\t\tlet strokeWidth = 15;\n\t\t\tlet backgroundStroke = '#eaeaea';\n\t\t\tlet foregroundStroke = '#2c2c2c';\n\t\t\tlet value = parseInt(circleCanvasElements[i].dataset.value);\n\n\t\t\tcircleCanvasElements[i].width = circleCanvasElements[i].height = length;\n\n\t\t\tctx.lineWidth = strokeWidth;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.strokeStyle = backgroundStroke;\n\t\t\tctx.arc(length / 2, length / 2, length / 2 - strokeWidth, 0, 2 * Math.PI);\n\t\t\tctx.stroke();\n\n\t\t\tctx.beginPath();\n\t\t\tctx.strokeStyle = foregroundStroke;\n\t\t\tctx.arc(length / 2, length / 2, length / 2 - strokeWidth, -Math.PI / 2, 2 * Math.PI / 100 * value - Math.PI / 2);\n\t\t\tctx.stroke();\n\t\t}\n\t}\n\n\t//********************************************\n\t// EVENT HANDLER\n\t//********************************************\n\tfunction onMenuSwitchClick() {\n\t\tif (switchElement.dataset.active === _allowedPageNames.none) {\n\t\t\tsetCurrentPage(_allowedPageNames.none);\n\t\t} else {\n\t\t\tsetCurrentPage(_allowedPageNames.teaser);\n\t\t}\n\t}\n\n\tfunction onWindowVisibilityChange() {\n\t\tif (!document.hidden) {\n\t\t\tdocument.title = _defaultTitle;\n\t\t} else {\n\t\t\tdocument.title = _abandonedTitle;\n\t\t}\n\t}\n\n\tfunction onWindowResize() {\n\t\tdrawCanvasCircles();\n\t}\n\n\n\t////////////////////////////////////////////////////////////////////////////////////////////// OLD CONTENT\n\n\tfor (let i = 0; i < triggerElements.length; i++) {\n\t\ttriggerElements[i].addEventListener('click', (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tlet target = e.target.dataset.targetActive;\n\n\t\t\tif (typeof target !== 'string') {\n\t\t\t\tfor (let j = e.target; j = j.parentElement;) {\n\t\t\t\t\tif (j.dataset.hasOwnProperty('targetActive')) {\n\t\t\t\t\t\ttarget = j.dataset.targetActive;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof target !== 'string') {\n\t\t\t\tthrow new Error(\"cannot find target attribute\");\n\t\t\t}\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tswitchElement.dataset.active = target;\n\t\t\t});\n\t\t});\n\t}\n\n\n}());"]}
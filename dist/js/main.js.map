{"version":3,"sources":["main.js"],"names":["activeTrigger","document","querySelectorAll","languages","wrapper","querySelector","cookieEl","addEventListener","e","preventDefault","dataset","active","requestAnimationFrame","i","length","targetActive","target","j","parentElement","Error","ctx","getContext","parseInt","width","backgroundStroke","value","height","lineWidth","strokeStyle","window","beginPath","Math","PI","stroke"],"mappings":"cAAC,WACA,IAAAA,EAAAC,SAAAC,iBAAA,wBAGIC,EAAYF,SAASC,iBAAiB,2BADtCF,EAAAA,SAAgBC,cAASC,YAE7B,IAAIE,OAAAA,aAAmBC,QAAAA,mBAAvB,CAGC,IAAIC,EAAWL,SAASI,cAAc,YAAtCC,EAAIA,MAAWL,QAASI,QAGxBC,EAASC,iBAAiB,QAAS,SAACC,GADpCF,EAAAA,iBACAA,OAAAA,aAASC,QAAiB,kBAAgB,OACzCC,EAAEC,MAAAA,QAAF,SAIDR,SAAAI,cAAA,YAAAE,iBAAA,QAAA,WAG+B,WAA3BH,EAAQM,QAAQC,OAEnBC,sBAAA,WACAR,EAAAM,QAAAC,OAAA,kBAJON,EAAAA,QAAcM,SAQtB,IARD,IAAAE,EAAA,EAAAA,EAAAb,EAAAc,OAAAD,IAWCb,EAAca,GAAGN,iBAAiB,QAAS,SAACC,GAD7CA,EAAAC,iBAEED,IAAEC,EAAAA,EAAAA,OAAFC,QAAAK,aAEA,GAAa,iBAATC,EAGH,IAAK,IAAIC,EAAIT,EAAEQ,OAAQC,EAAIA,EAAEC,eAD9B,GAAGD,EAAAP,QAAOM,eAAV,gBAA+B,CAC9BA,EAASC,EAAIT,QAAbO,aACC,MAKD,GAAA,iBAAAC,EAGA,MAAM,IAAIG,MAAM,gCAChBP,sBAAA,WAGAR,EAAQM,QAAQC,OAASK,MAG3B,IAAA,IAAAH,EAAA,EAAAA,EAAAV,EAAAW,OAAAD,IAAA,CAGA,IAAIO,EAAMjB,EAAUU,GAAGQ,WAAW,MAD9BP,EAAQQ,SAAOnB,OAAAA,iBAAuBA,EAAAU,IAAAU,OAItCC,EAAAA,SAAAA,EAAmBX,GAAvBH,QAAAe,OAEAtB,EAAIsB,GAAQH,MAASnB,EAAUU,GAAVa,OAAqBD,EAE1CtB,EAAAA,UAPUA,GASViB,EAAIO,YAGJP,EAAIQ,YAXkBC,UAUtBT,EAAIU,IAAAA,EAAJ,EAAAhB,EAAA,EAAAA,EAAA,EAXUX,GAWV,EAAA,EAAA4B,KAAAC,IACAZ,EAAIQ,SAEJR,EAAIa,YAGJb,EAAIQ,YAfJ,UAcAR,EAAIU,IAAAA,EAAJ,EAAAhB,EAAA,EAAAA,EAAA,EAhBUX,IAgBV4B,KAAAC,GAAA,EAAA,EAAAD,KAAAC,GAAA,IAAAP,EAAAM,KAAAC,GAAA,GACAZ,EAAIQ","file":"main.js","sourcesContent":["(function () {\n\t'use strict';\n\n\tlet activeTrigger = document.querySelectorAll('[data-target-active]');\n\tlet languages = document.querySelectorAll('#languages .lang canvas');\n\tlet wrapper = document.querySelector('#wrapper');\n\n\tif (!window.localStorage.getItem('cookiesAccepted')) {\n\t\tlet cookieEl = document.querySelector('#cookies');\n\n\t\tcookieEl.style.display = 'block';\n\t\tcookieEl.addEventListener('click', (e) => {\n\t\t\te.preventDefault();\n\t\t\twindow.localStorage.setItem('cookiesAccepted', 'yes');\n\t\t\tcookieEl.style.display = 'none';\n\t\t});\n\t}\n\n\tdocument.querySelector('#trigger').addEventListener('click', () => {\n\t\tif (wrapper.dataset.active === 'teaser') {\n\t\t\tdelete wrapper.dataset.active;\n\t\t\treturn;\n\t\t}\n\t\trequestAnimationFrame(() => {\n\t\t\twrapper.dataset.active = 'teaser';\n\t\t});\n\t});\n\n\tfor (let i = 0; i < activeTrigger.length; i++) {\n\t\tactiveTrigger[i].addEventListener('click', (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tlet target = e.target.dataset.targetActive;\n\n\t\t\tif(typeof target !== 'string') {\n\t\t\t\tfor (let j = e.target; j = j.parentElement;) {\n\t\t\t\t\tif (j.dataset.hasOwnProperty('targetActive')) {\n\t\t\t\t\t\ttarget = j.dataset.targetActive;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(typeof target !== 'string'){\n\t\t\t\tthrow new Error(\"cannot find target attribute\");\n\t\t\t}\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\twrapper.dataset.active = target;\n\t\t\t});\n\t\t});\n\t}\n\n\tfor (let i = 0; i < languages.length; i++) {\n\t\tlet ctx = languages[i].getContext('2d');\n\t\tlet length = parseInt(window.getComputedStyle(languages[i]).width);\n\t\tlet strokeWidth = 15;\n\t\tlet backgroundStroke = '#eaeaea';\n\t\tlet foregroundStroke = '#2c2c2c';\n\t\tlet value = parseInt(languages[i].dataset.value);\n\n\t\tlanguages[i].width = languages[i].height = length;\n\n\t\tctx.lineWidth = strokeWidth;\n\n\t\tctx.beginPath();\n\t\tctx.strokeStyle = backgroundStroke;\n\t\tctx.arc(length / 2, length / 2, length / 2 - strokeWidth, 0, 2 * Math.PI);\n\t\tctx.stroke();\n\n\t\tctx.beginPath();\n\t\tctx.strokeStyle = foregroundStroke;\n\t\tctx.arc(length / 2, length / 2, length / 2 - strokeWidth, -Math.PI / 2, 2 * Math.PI / 100 * value - Math.PI / 2);\n\t\tctx.stroke();\n\t}\n}());"]}